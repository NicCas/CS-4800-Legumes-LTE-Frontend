(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[21],{55:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return u}));var a=c(45),n=c(35),i=c(36),r=c(39),s=c(38),l=c(0),d=c.n(l),o=c(40),h=c.n(o),j=c(1);h.a.defaults.withCredentials=!0;var u=function(t){Object(r.a)(c,t);var e=Object(s.a)(c);function c(){var t;Object(n.a)(this,c);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={handbasket:[],total:0,remove:null},t}return Object(i.a)(c,[{key:"componentDidMount",value:function(){var t=this;h.a.get("https://chickpeaapi.glitch.me/cart").then((function(e){var c,n=e.data,i=0,r=Object(a.a)(n);try{for(r.s();!(c=r.n()).done;){var s=c.value;i+=parseFloat(s.Price.$numberDecimal)*s.Quantity}}catch(l){r.e(l)}finally{r.f()}t.setState({handbasket:n,total:i})})).catch((function(t){console.log(t)}))}},{key:"removeItem",value:function(t){var e=this;h()("https://chickpeaapi.glitch.me/cart/remove",{method:"post",data:{Item_ID:t}}).then((function(c){console.log(c.data);var n,i,r=[],s=Object(a.a)(e.state.handbasket);try{for(s.s();!(i=s.n()).done;){var l=i.value;l.Item_ID!==t?r.push(l):n=l}}catch(o){s.e(o)}finally{s.f()}var d=e.state.total-n.Price.$numberDecimal*n.Quantity;e.setState({handbasket:r,total:d})}))}},{key:"render",value:function(){var t=this;return Object(j.jsxs)("div",{class:"handbasket-contents",children:[Object(j.jsxs)("table",{id:"handbasket-table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{id:"product-column",children:"Product"}),Object(j.jsx)("th",{id:"store-column",children:"Store"}),Object(j.jsx)("th",{id:"price-column",children:"Price"}),Object(j.jsx)("th",{id:"quantity-column",children:"Quantity"}),Object(j.jsx)("th",{id:"subtotal-column",children:"Subtotal"}),Object(j.jsx)("th",{id:"remove"})]})}),this.state.handbasket.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[Object(j.jsx)("div",{class:"product-image",children:Object(j.jsx)("img",{src:e.Image_URL,width:"150px",height:"150px"})}),Object(j.jsx)("div",{class:"product-name",children:e.Item_Name})]}),Object(j.jsx)("td",{children:e.Store_Name}),Object(j.jsxs)("td",{children:["$",e.Price.$numberDecimal]}),Object(j.jsx)("td",{children:e.Quantity}),Object(j.jsxs)("td",{children:["$",e.Price.$numberDecimal*e.Quantity]}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{className:"btn",onClick:function(){return t.removeItem(e.Item_ID)},children:"Remove from Handbasket"})})]})}))]}),Object(j.jsx)("div",{id:"total",children:Object(j.jsxs)("b",{children:["Total: $",this.state.total.toFixed(2)]})})]})}}]),c}(d.a.Component)}}]);
//# sourceMappingURL=21.d2edf7f9.chunk.js.map