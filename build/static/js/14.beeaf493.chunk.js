(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{109:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return p}));var i=s(35),c=s(36),n=s(38),r=s(37),a=s(0),l=s.n(a),d=s(39),h=s.n(d),o=(s(98),s(52)),j=s(1),b=Object(a.lazy)((function(){return s.e(10).then(s.bind(null,102))}));h.a.defaults.withCredentials=!0;var p=function(e){Object(n.a)(s,e);var t=Object(r.a)(s);function s(){var e;Object(i.a)(this,s);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={customer:{},addresses:[],billings:[],shippings:[],deliveries:[],delivs:[],transporting:[],transits:[],deliv_items:[],favs:[],handlers:[],handler:{},items:[],store:[]},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://chickpeaapi.glitch.me/user/account-details",{withCredentials:!0}).then((function(t){var s=t.data,i=(t.data.favorites.Favorite_Items,[]),c=[],n=[],r=[],a=[];e.setState({customer:s.customer_info});for(var l=0;l<s.addresses.length;l++)1==s.addresses[l].Is_Billing&&i.push(s.addresses[l]),1==s.addresses[l].Is_Shipping&&c.push(s.addresses[l]);e.setState({billings:i[0]}),e.setState({shippings:c[0]});for(l=0;l<s.deliveries.length;l++)1==s.deliveries[l].Delivered?n.push(s.deliveries[l]):a.push(s.deliveries[l]);a.sort((function(e,t){return t.Date>e.Date?1:-1})),e.setState({delivs:n,transporting:a[0]});for(l=0;l<s.favorites.length;l++)r.push(s.favorites[l]);e.setState({favs:r})})).catch((function(e){console.log(e)}))}},{key:"handleLogout",value:function(){console.log("I am logging out"),h.a.get("https://chickpeaapi.glitch.me/login/logout",{withCredentials:!0})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{id:"account-page",children:[Object(j.jsxs)("div",{id:"account-header",class:"account-wrapper",children:[Object(j.jsxs)("div",{id:"name-image",children:[Object(j.jsx)("img",{src:o.a,class:"account-image"}),Object(j.jsxs)("h3",{class:"account-title",children:["Hello, ",this.state.customer.Username]})]}),Object(j.jsx)("div",{id:"logout-button",children:Object(j.jsx)("a",{href:"/home",children:Object(j.jsx)("button",{href:"/home",class:"purple-button btn",onClick:function(){return e.handleLogout()},children:"Logout"})})})]}),Object(j.jsxs)("div",{class:"account-grid-container",children:[Object(j.jsxs)("div",{id:"left-column",children:[Object(j.jsxs)("div",{id:"profile-info",class:"account-grid-item",children:[Object(j.jsx)("h3",{children:"Account Information"}),Object(j.jsxs)("div",{class:"info-block",id:"info-title",children:[Object(j.jsx)("p",{children:"Username "}),Object(j.jsx)("p",{children:"Email "}),Object(j.jsx)("p",{children:"Billing Address "}),Object(j.jsx)("p",{children:"Shipping Address "})]}),Object(j.jsxs)("div",{class:"info-block",children:[Object(j.jsxs)("p",{children:[" ",this.state.customer.Username," "]}),Object(j.jsxs)("p",{children:[" ",this.state.customer.Email," "]}),Object(j.jsxs)("p",{children:[this.state.billings.Street,", ",this.state.billings.City,","," ",this.state.billings.State,", ",this.state.billings.Zip_Code," "]}),Object(j.jsxs)("p",{children:[this.state.shippings.Street,", ",this.state.shippings.City,","," ",this.state.shippings.State,", ",this.state.shippings.Zip_Code]})]})]}),Object(j.jsxs)("div",{id:"favorites",class:"account-grid-item",children:[Object(j.jsx)("h3",{children:"Favorites"}),Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{class:"item-column",children:"Item"}),Object(j.jsx)("th",{class:"store-column",children:"Store"}),Object(j.jsx)("th",{class:"price-column",children:"Price"})]}),this.state.favs.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.Item_Name}),Object(j.jsxs)("td",{children:[" ",e.Store_ID," "]}),Object(j.jsxs)("td",{children:["$",e.Price.toFixed(2)]})]})}))]})]})]}),Object(j.jsx)("div",{id:"recent-order",class:"account-grid-item",children:Object(j.jsx)(b,{transporting:this.state.transporting,shippings:this.state.shippings})})]}),Object(j.jsxs)("div",{id:"order-history",class:"account-grid-item",children:[Object(j.jsx)("h3",{children:"Order History"}),Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Order Number"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Total Cost"}),Object(j.jsx)("th",{children:"Delivery Address"}),Object(j.jsx)("th",{children:"Items"})]}),this.state.delivs.map((function(t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t.Delivery_ID}),Object(j.jsxs)("td",{children:[" ",t.Date," "]}),Object(j.jsxs)("td",{children:["$",t.Total_Cost]}),Object(j.jsxs)("td",{children:[e.state.shippings.Street,",",e.state.shippings.City,",",e.state.shippings.State,",",e.state.shippings.Zip_Code]}),Object(j.jsx)("td",{children:"this.state.deliv_items"})]})}))]})]}),Object(j.jsx)("div",{id:"extra-space-account"})]})}}]),s}(l.a.Component)},52:function(e,t,s){"use strict";t.a=s.p+"static/media/owner_placeholder.bdf1907b.png"},98:function(e,t,s){}}]);
//# sourceMappingURL=14.beeaf493.chunk.js.map