{"version":3,"sources":["handbasket/HandbasketTable.js"],"names":["axios","defaults","withCredentials","HandbasketTable","state","handbasket","total","remove","get","then","res","data","running_total","item","parseFloat","Price","$numberDecimal","Quantity","setState","catch","error","console","log","id","method","Item_ID","to_remove","new_handbasket","push","new_total","class","this","map","src","Image_URL","width","height","Item_Name","Store_Name","className","onClick","removeItem","toFixed","React","Component"],"mappings":"qOAGAA,IAAMC,SAASC,iBAAkB,E,IAEZC,E,4MACjBC,MAAQ,CACJC,WAAY,GACZC,MAAO,EACPC,OAAQ,M,uDAGV,WAAqB,IAAD,OAClBP,IACGQ,IADH,sCAEGC,MAAK,SAACC,GACL,IADa,EACPC,EAAOD,EAAIC,KACbC,EAAgB,EAFP,cAGID,GAHJ,IAGb,2BAAuB,CAAC,IAAfE,EAAc,QACrBD,GACEE,WAAWD,EAAKE,MAAMC,gBAAkBH,EAAKI,UALpC,8BAOb,EAAKC,SAAS,CAAEb,WAAYM,EAAML,MAAOM,OAE1CO,OAAM,SAAUC,GACfC,QAAQC,IAAIF,Q,wBAIlB,SAAWG,GAAI,IAAD,OACZvB,IAAM,4CACN,CACEwB,OAAQ,OACRb,KAAM,CACJc,QAASF,KAGVd,MAAK,SAACC,GACLW,QAAQC,IAAIZ,EAAIC,MAChB,IACIe,EAHS,EAETC,EAAiB,GAFR,cAIG,EAAKvB,MAAMC,YAJd,IAIb,IAAI,EAAJ,qBAAsC,CAAC,IAA/BQ,EAA8B,QACjCA,EAAKY,UAAYF,EAClBI,EAAeC,KAAKf,GAEpBa,EAAYb,GARH,8BAUb,IAAIgB,EAAY,EAAKzB,MAAME,MAASoB,EAAUX,MAAMC,eAAiBU,EAAUT,SAC/E,EAAKC,SAAS,CAAEb,WAAYsB,EAAgBrB,MAAOuB,S,oBAI3D,WAAS,IAAD,OACJ,OACI,sBAAKC,MAAM,sBAAX,UACA,wBAAOP,GAAG,mBAAV,UACI,gCACA,+BACI,oBAAIA,GAAG,iBAAP,qBACA,oBAAIA,GAAG,eAAP,mBACA,oBAAIA,GAAG,eAAP,mBACA,oBAAIA,GAAG,kBAAP,sBACA,oBAAIA,GAAG,kBAAP,sBACA,oBAAIA,GAAG,gBAGVQ,KAAK3B,MAAMC,WAAW2B,KAAI,SAACnB,GAAD,OAC3B,+BACI,+BACA,qBAAKiB,MAAM,gBAAX,SACI,qBACAG,IAAKpB,EAAKqB,UACVC,MAAM,QACNC,OAAO,YAGX,qBAAKN,MAAM,eAAX,SAA2BjB,EAAKwB,eAEhC,6BAAKxB,EAAKyB,aACV,mCAAMzB,EAAKE,MAAMC,kBACjB,6BAAKH,EAAKI,WACV,mCAAMJ,EAAKE,MAAMC,eAAiBH,EAAKI,YACvC,6BACE,wBAAQsB,UAAU,MAAMC,QAAS,kBAAI,EAAKC,WAAW5B,EAAKY,UAA1D,+CAKV,qBAAKF,GAAG,QAAR,SACI,yCAAYQ,KAAK3B,MAAME,MAAMoC,QAAQ,e,GApFRC,IAAMC","file":"static/js/22.8adab081.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nexport default class HandbasketTable extends React.Component{\r\n    state = {\r\n        handbasket: [],\r\n        total: 0,\r\n        remove: null\r\n      };\r\n    \r\n      componentDidMount() {\r\n        axios\r\n          .get(`https://chickpeaapi.glitch.me/cart`)\r\n          .then((res) => {\r\n            const data = res.data;\r\n            var running_total = 0;\r\n            for (var item of data) {\r\n              running_total +=\r\n                parseFloat(item.Price.$numberDecimal) * item.Quantity;\r\n            }\r\n            this.setState({ handbasket: data, total: running_total });\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      }\r\n\r\n      removeItem(id){\r\n        axios(`https://chickpeaapi.glitch.me/cart/remove`, \r\n        {\r\n          method: \"post\",\r\n          data: {\r\n            Item_ID: id\r\n          }\r\n        })\r\n          .then((res) => {\r\n            console.log(res.data);\r\n            var new_handbasket = [];\r\n            var to_remove;\r\n            for(var item of this.state.handbasket){\r\n              if(item.Item_ID !== id)\r\n                new_handbasket.push(item);\r\n              else\r\n                to_remove = item;\r\n            }\r\n            var new_total = this.state.total - (to_remove.Price.$numberDecimal * to_remove.Quantity);\r\n            this.setState({ handbasket: new_handbasket, total: new_total });\r\n          })\r\n      }\r\n\r\n    render(){\r\n        return(\r\n            <div class=\"handbasket-contents\">\r\n            <table id=\"handbasket-table\">\r\n                <thead>\r\n                <tr>\r\n                    <th id=\"product-column\">Product</th>\r\n                    <th id=\"store-column\">Store</th>\r\n                    <th id=\"price-column\">Price</th>\r\n                    <th id=\"quantity-column\">Quantity</th>\r\n                    <th id=\"subtotal-column\">Subtotal</th>\r\n                    <th id=\"remove\"></th>\r\n                </tr>\r\n                </thead>\r\n                {this.state.handbasket.map((item) => (\r\n                <tr>\r\n                    <td>\r\n                    <div class=\"product-image\">\r\n                        <img\r\n                        src={item.Image_URL}\r\n                        width=\"150px\"\r\n                        height=\"150px\"\r\n                        ></img>\r\n                    </div>\r\n                    <div class=\"product-name\">{item.Item_Name}</div>\r\n                    </td>\r\n                    <td>{item.Store_Name}</td>\r\n                    <td>${item.Price.$numberDecimal}</td>\r\n                    <td>{item.Quantity}</td>\r\n                    <td>${item.Price.$numberDecimal * item.Quantity}</td>\r\n                    <td>\r\n                      <button className=\"btn\" onClick={()=>this.removeItem(item.Item_ID)}>Remove from Handbasket</button>\r\n                    </td>\r\n                </tr>\r\n                ))}\r\n            </table>\r\n            <div id=\"total\">\r\n                <b>Total: ${this.state.total.toFixed(2)}</b>\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}"],"sourceRoot":""}